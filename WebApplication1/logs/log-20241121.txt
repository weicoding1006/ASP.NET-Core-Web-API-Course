2024-11-21 09:17:49.936 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 09:17:49.987 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 09:17:49.991 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 09:17:49.993 +08:00 [INF] Hosting environment: Development
2024-11-21 09:17:49.995 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 09:17:57.591 +08:00 [INF] HTTP GET /api/Countries responded 401 in 9.9991 ms
2024-11-21 09:18:32.814 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 09:18:32.875 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 09:18:32.888 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 09:18:32.890 +08:00 [INF] Hosting environment: Development
2024-11-21 09:18:32.892 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 09:18:38.527 +08:00 [INF] HTTP GET /api/Countries responded 200 in 1419.2742 ms
2024-11-21 09:18:50.860 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 09:18:50.929 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 09:18:50.934 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 09:18:50.935 +08:00 [INF] Hosting environment: Development
2024-11-21 09:18:50.936 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 09:18:54.903 +08:00 [INF] HTTP GET /api/Countries responded 401 in 8.5905 ms
2024-11-21 09:19:41.553 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 09:19:41.591 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 09:19:41.597 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 09:19:41.599 +08:00 [INF] Hosting environment: Development
2024-11-21 09:19:41.600 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 09:19:48.844 +08:00 [INF] HTTP GET /api/Countries responded 200 in 1223.4951 ms
2024-11-21 09:23:44.334 +08:00 [INF] HTTP POST /api/Countries responded 401 in 7.3767 ms
2024-11-21 09:24:15.013 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 406.0858 ms
2024-11-21 09:26:26.487 +08:00 [INF] HTTP POST /api/Countries responded 401 in 2.2066 ms
2024-11-21 15:07:10.970 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 15:07:11.004 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 15:07:11.009 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 15:07:11.011 +08:00 [INF] Hosting environment: Development
2024-11-21 15:07:11.012 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 15:07:26.416 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 1635.4882 ms
2024-11-21 15:08:16.233 +08:00 [INF] HTTP POST /api/Countries responded 401 in 4.6517 ms
2024-11-21 15:08:46.702 +08:00 [INF] HTTP POST /api/Countries responded 201 in 243.8234 ms
2024-11-21 15:23:30.877 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 15:23:30.942 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 15:23:30.950 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 15:23:30.953 +08:00 [INF] Hosting environment: Development
2024-11-21 15:23:30.954 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 15:24:15.805 +08:00 [INF] HTTP DELETE /api/Countries/9 responded 403 in 7.4368 ms
2024-11-21 15:24:48.043 +08:00 [INF] HTTP POST /api/Countries responded 201 in 969.3726 ms
2024-11-21 15:25:02.609 +08:00 [INF] HTTP DELETE /api/Countries/9 responded 403 in 2.4762 ms
2024-11-21 15:30:00.108 +08:00 [INF] HTTP POST /api/Account/register responded 200 in 632.9944 ms
2024-11-21 15:41:36.982 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 200.0039 ms
2024-11-21 15:42:13.321 +08:00 [INF] HTTP DELETE /api/Countries/9 responded 204 in 41.5314 ms
2024-11-21 15:42:41.886 +08:00 [INF] HTTP DELETE /api/Countries/10 responded 204 in 21.5172 ms
2024-11-21 17:17:16.111 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 17:17:16.172 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 17:17:16.184 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 17:17:16.186 +08:00 [INF] Hosting environment: Development
2024-11-21 17:17:16.188 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 17:17:52.016 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 1334.7850 ms
2024-11-21 17:18:25.722 +08:00 [ERR] HTTP POST /api/Account/refreshtoken responded 500 in 26.5721 ms
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12709: CanReadToken() returned false. JWT is not well formed.
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at WebApplication1.Repository.AuthManager.VerifyRefreshToken(AuthResponseDto request) in C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1\Repository\AuthManager.cs:line 95
   at WebApplication1.Controllers.AccountController.RefreshToken(AuthResponseDto request) in C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1\Controllers\AccountController.cs:line 58
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-11-21 17:18:25.738 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX12709: CanReadToken() returned false. JWT is not well formed.
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at WebApplication1.Repository.AuthManager.VerifyRefreshToken(AuthResponseDto request) in C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1\Repository\AuthManager.cs:line 95
   at WebApplication1.Controllers.AccountController.RefreshToken(AuthResponseDto request) in C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1\Controllers\AccountController.cs:line 58
   at lambda_method174(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-21 17:18:53.370 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 150.4733 ms
2024-11-21 17:19:55.729 +08:00 [INF] Now listening on: https://localhost:7225
2024-11-21 17:19:55.761 +08:00 [INF] Now listening on: http://localhost:5056
2024-11-21 17:19:55.765 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-21 17:19:55.767 +08:00 [INF] Hosting environment: Development
2024-11-21 17:19:55.767 +08:00 [INF] Content root path: C:\Users\2309013\Desktop\後端api課程\WebApplication1\WebApplication1
2024-11-21 17:20:13.900 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 1536.9386 ms
2024-11-21 17:25:22.102 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 239.5927 ms
2024-11-21 17:25:35.418 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 200 in 113.0899 ms
2024-11-21 17:26:21.197 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 401 in 54.7690 ms
2024-11-21 17:26:28.523 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 400 in 25.0374 ms
2024-11-21 17:26:34.932 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 400 in 25.4767 ms
2024-11-21 17:26:39.700 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 401 in 34.5881 ms
2024-11-21 17:26:48.246 +08:00 [INF] HTTP POST /api/Account/login responded 200 in 189.5082 ms
2024-11-21 17:26:56.381 +08:00 [INF] HTTP POST /api/Account/refreshtoken responded 200 in 47.2684 ms
